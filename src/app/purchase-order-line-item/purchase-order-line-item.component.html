<script>
  jQuery(function () {
    jQuery('*[id^=product_]').hover(function () {
      jQuery(this).children("div.tools").show();
    }, function () {
      jQuery(this).children("div.tools").hide();
    });
  });

</script>
<div class="body-container" *ngIf="!isPurchaseOrderSaved">
  <div class="hd-part">
    <div class="ptext">
      <p class="p1"><b>SCIP Information</b></p>
      <p class="p2">
        Please input the SCIP or the statistical and CAS numbers against purchased
        order line item
      </p>
      <input type="text" class="text-border-class" name="scip" id="scip"
        placeholder="Search by SCIP no, Statistical goods no, CAS no" [(ngModel)]="searchedKeyword" />
    </div>
    <div class="button-container">
      <button type="button" class="button pdf-btn" (click)="SavePDF()">
        <img [src]="iconPDF" [alt]="iconPDFAlt" class="pdf-class" />&nbsp;&nbsp;<span
          class="scip-download-class">Download
          SCIP Data</span>
      </button>
    </div>
  </div>
  <div class="table-container">
    <table class="table" id="waypointsTable">
      <thead class="table-th">
        <tr>
          <th *ngFor="let head of headElements" scope="col">{{ head }}</th>
        </tr>
      </thead>
      <tbody>
        <tr [ngClass]="{'hover':el.isDeleteShow}"
          *ngFor="let el of results | filter:searchedKeyword;index as parentIndex" class="table-row"
          id="item_{{parentIndex}}">
          <td>{{ el.purchaseOrderNumber }}</td>
          <td>{{ el.lineItemNumber }}</td>
          <td>{{ el.scipRelavent }}</td>
          <td>
            <div (mouseenter)="mouseEnter(parentIndex) " (mouseleave)="mouseLeave(parentIndex)">
              <div  *ngIf="el.isAddShow == true">
                <span>{{ el.scipNumber }}</span>
                <span style="color:#FFFFFF33">text</span>
              </div>
              <div class="form-group" *ngIf="el.isDeleteShow == true">
                <input type="text" name="scipNumber{{parentIndex}}" id="scipNumber{{parentIndex}}"
                  class="table-text-border-class" [(ngModel)]="el.scipNumber"
                  (keyup)="validateScip($event,el.scipNumber,parentIndex)" (click)="clickevent(parentIndex)" />
              </div>
            </div>
            <span class="scip-warn" *ngIf="el.isInvalid == true">SCIP no should be 10 digit</span>
          </td>
          <td>
            <div (mouseenter)="mouseEnter(parentIndex) " (mouseleave)="mouseLeave(parentIndex)">
              <div class="output-text" *ngIf="el.isAddShow == true">
                <span>{{ el.statisticalGoodsNumber }}</span>
                <span style="color:#FFFFFF33">text</span>
              </div>             
              <div class="form-group" *ngIf="el.isDeleteShow == true">
                <input type="text" name="statisticalGoodsNumber{{parentIndex}}"
                  id="statisticalGoodsNumber{{parentIndex}}" class="table-text-border-class"
                  [(ngModel)]="el.statisticalGoodsNumber" (click)="clickevent(parentIndex)" />
              </div>
            </div>

          </td>
          <td>
            <div (mouseenter)="mouseEnter(parentIndex) " (mouseleave)="mouseLeave(parentIndex)">
              <div class="output-text" *ngIf="el.isAddShow == true">
                <span>{{ el.casnumber }}</span>
                <span style="color:#FFFFFF33">text</span>
              </div>              
              <div class="form-group" *ngIf="el.isDeleteShow == true">
                <input type="text" name="casnumber{{parentIndex}}" id="casnumber{{parentIndex}}"
                  class="table-text-border-class" [(ngModel)]="el.casnumber" (click)="clickevent(parentIndex)" />
              </div>
            </div>
          </td>
          <td>
            <div (mouseenter)="mouseEnter(parentIndex) " (mouseleave)="mouseLeave(parentIndex)">
              <div class="output-text" *ngIf="el.isAddShow == true">
                <span>{{ el.materialCategory }}</span>
                <span style="color:#FFFFFF33">text</span>
              </div>              
              <div class="form-group" *ngIf="el.isDeleteShow == true">
                <input type="text" name="materialCategory{{parentIndex}}" id="materialCategory{{parentIndex}}"
                  class="table-text-border-class" [(ngModel)]="el.materialCategory" (click)="clickevent(parentIndex)" />
              </div>
            </div>

            <!--div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false" (click)="selectMaterial('','','')">
                <span *ngIf="el.isSelected == false" style="font-size:  0.875rem;">Material Category</span> <span
                  *ngIf="el.isSelected == true">{{el.selectedCat}}</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                <button class="dropdown-item" type="button" *ngFor="let item of el.materialCategory;index as childIndex"
                  (click)="selectMaterial(item,parentIndex,elements)"><span
                    style="font-size:  0.875rem;">{{item}}</span></button>

              </div>
            </div-->
          </td>
          <td>
            <a (click)="editPurchaseorderLine(parentIndex)"><img [src]="iconPlusCircle" [alt]="iconPlusAlt"
                class="plus-class" /></a>
            <!-- <a *ngIf="el.isDeleteShow == true"><img [src]="iconDelete" [alt]="iconDeleteAlt" class="plus-class" /></a> -->
          </td>
          <td>
            <a *ngIf="el.isClearData == true" (click)="clearRowData(parentIndex)"><img [src]="iconClearData" [alt]="iconClearDatadAlt"
                class="plus-class" /></a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="table-footer">
    <div class="button-container-footer">
      <button type="button" class="button blue-button" data-toggle="modal" data-target="#myModal">Save</button>
      <button type="button" class="button white-button" data-toggle="modal" data-target="#myModalClearAll">Clear
        All</button>
    </div>
    <div class="row">
      <div class="col-md-12 alert-class">
        <div class="alert alert-danger" role="alert" *ngIf="(responseCode !== '' && responseCode !== '200')">
          {{errorMessage}}
        </div>
      </div>
    </div>
    <div class="pagination-container">
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item">
            <a>
              <fa-icon [icon]="faLessThan" size="xs" class="icon-class" style="color: #adb5bd; "></fa-icon>
            </a>
          </li>
          &nbsp;&nbsp;
          <li class="page-item"><a class="page-link page-style">1</a></li>
          &nbsp;
          <li class="page-item"><a class="page-link page-style">2</a></li>
          &nbsp;
          <li class="page-item"><a class="page-link page-style">3</a></li>
          &nbsp;
          <li class="page-item"><a class="page-link page-style">4</a></li>
          &nbsp;&nbsp;
          <li class="page-item">
            <a>
              <fa-icon [icon]="faGreaterThan" size="xs" class="icon-class"></fa-icon>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>


<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog  modal-dialog-centered">
    <div class="modal-content">


      <div class="modal-body modal-body-cutom">
        <div class="row">
          <div class="col-md-12 col-part1">
            <p style="color:#1E1E1E;font-size: 25px;font-family: 'Roboto', sans-serif;"><strong>Are you sure you want to submit ?</strong></p>
            <p style="color:#616161;font-size: 16px;font-family: 'Roboto', sans-serif;">Once Submit You are not able to change it again</p>
          </div>
          <div class="col-md-12 col-part2">
            <button type="button" class="button blue-button-modal" data-dismiss="modal"
              (click)="savePurchaseorderLine()">Submit</button>
            <button type="button" class="button white-button-modal" data-dismiss="modal">Review Again</button>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">
        
      </div> -->

    </div>
  </div>
</div>

<div class="modal" id="myModalClearAll">
  <div class="modal-dialog  modal-dialog-centered">
    <div class="modal-content">


      <div class="modal-body modal-body-cutom">
        <div class="row">
          <div class="col-md-12 col-part1">
            <p style="color:#1E1E1E;font-size: 25px;font-family: 'Roboto', sans-serif;"><Strong>This will clear all table data</Strong></p>
            <p style="color:#616161;font-size: 16px;font-family: 'Roboto', sans-serif;">You can not undo this action again.</p>
          </div>
          <div class="col-md-12 col-part2">
            <button type="button" class="button blue-button-modal" data-dismiss="modal"
              (click)="ClearAllTableData()">Delete</button>
            <button type="button" class="button white-button-modal" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">
        
      </div> -->

    </div>
  </div>
</div>

